<p-checkbox name="group" [label]="category.name" [value]="{art_api: category.art_api, type: category.type || 'boolean'}" [(ngModel)]="selectedCategories" (onChange)="onParentChange(category)"></p-checkbox>

<!-- Subcategories -->
<div *ngIf="isItemSelected(category.art_api)">
    <div *ngFor="let subcategory of category.subcategories" class="subfield-checkbox">
        <!-- Use app-art-category recursively for each subcategory -->
        <p-checkbox name="group" [label]="subcategory.name" [value]="{art_api: subcategory.art_api, type: subcategory.type || 'boolean', parent:category.art_api}" [(ngModel)]="selectedSubcategories" (onChange)="onParentChange(category)"></p-checkbox>
    
        <div *ngIf="isItemSelected(subcategory.art_api)">
            <div *ngFor="let subsubcategory of subcategory.subcategories" class="subfield-checkbox">
                <!-- Use app-art-category recursively for each subsubcategory -->
                <p-checkbox name="group" [label]="subsubcategory.name" [value]="{art_api: subsubcategory.art_api, type: subsubcategory.type || 'boolean', parent:category.art_api}" [(ngModel)]="selectedSubcategories" (onChange)="onParentChange(category)"></p-checkbox>
            </div>
        </div>

    </div>
</div>
