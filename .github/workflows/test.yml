name: Unit Testing Feature Branches

on:
  push:
    branches:
      - 'feature/*'

jobs:
    unit-test:
        name: Unit Test Job
        runs-on: ubuntu-latest
        steps:
        -
            name: Checkout
            uses: actions/checkout@v3.5.3
        - 
            name: Get yarn cache directory path
            id: yarn-cache-dir-path
            run: echo "dir=$(yarn cache dir)" >> $GITHUB_OUTPUT
        - 
            uses: actions/cache@v3
            id: yarn-cache # use this to check for `cache-hit` (`steps.yarn-cache.outputs.cache-hit != 'true'`)
            with:
              path: ${{ steps.yarn-cache-dir-path.outputs.dir }}
              key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}
              restore-keys: |
                ${{ runner.os }}-yarn-
        -   run: yarn install          
        - 
            name: Running Unit Tests
            run: yarn ngtest